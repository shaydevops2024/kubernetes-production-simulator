<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hands-On Projects ‚Äî DevOps Simulator</title>
    <style>
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #eef2ff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-500: #6b7280;
            --gray-700: #374151;
            --gray-900: #111827;
            --white: #ffffff;
            --shadow: 0 1px 3px rgba(0,0,0,.1), 0 1px 2px rgba(0,0,0,.06);
            --shadow-md: 0 4px 6px rgba(0,0,0,.07);
            --shadow-lg: 0 10px 15px rgba(0,0,0,.1), 0 4px 6px rgba(0,0,0,.05);
            --radius: 10px;
            --radius-lg: 16px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Inter', sans-serif;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%);
            min-height: 100vh;
            color: var(--gray-900);
        }

        /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
        .header {
            padding: 48px 24px 40px;
            text-align: center;
            color: white;
            position: relative;
        }

        .back-btn {
            position: absolute;
            left: 24px;
            top: 32px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: rgba(255,255,255,.7);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            background: rgba(255,255,255,.1);
            border: 1px solid rgba(255,255,255,.2);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all .2s;
        }

        .back-btn:hover {
            background: rgba(255,255,255,.2);
            color: white;
        }

        .header-icon {
            font-size: 56px;
            margin-bottom: 16px;
            display: block;
        }

        .header h1 {
            font-size: 42px;
            font-weight: 800;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #fff 0%, #c7d2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 18px;
            color: rgba(255,255,255,.75);
            max-width: 600px;
            margin: 0 auto 24px;
            line-height: 1.6;
        }

        .header-stats {
            display: inline-flex;
            gap: 32px;
            background: rgba(255,255,255,.08);
            border: 1px solid rgba(255,255,255,.15);
            border-radius: var(--radius);
            padding: 16px 32px;
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 800;
            color: #a5b4fc;
        }

        .stat-label {
            font-size: 12px;
            color: rgba(255,255,255,.6);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: .8px;
        }

        /* ‚îÄ‚îÄ Content ‚îÄ‚îÄ */
        .content {
            max-width: 1320px;
            margin: 0 auto;
            padding: 0 24px 64px;
        }

        /* ‚îÄ‚îÄ Section header ‚îÄ‚îÄ */
        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 40px 0 20px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: white;
        }

        .section-badge {
            font-size: 11px;
            padding: 3px 10px;
            border-radius: 99px;
            font-weight: 600;
        }

        .badge-available { background: #d1fae5; color: #065f46; }
        .badge-coming { background: rgba(255,255,255,.15); color: rgba(255,255,255,.7); }

        /* ‚îÄ‚îÄ Projects Grid ‚îÄ‚îÄ */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 20px;
        }

        /* ‚îÄ‚îÄ Project Card ‚îÄ‚îÄ */
        .project-card {
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: transform .25s cubic-bezier(.4,0,.2,1), box-shadow .25s;
            display: flex;
            flex-direction: column;
        }

        .project-card.available {
            cursor: pointer;
        }

        .project-card.available:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .project-card.coming-soon {
            opacity: .72;
        }

        .card-banner {
            height: 6px;
        }

        .card-banner.available { background: linear-gradient(90deg, #6366f1, #8b5cf6); }
        .card-banner.coming-soon { background: var(--gray-200); }

        .card-body {
            padding: 24px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 12px;
        }

        .project-num {
            font-size: 12px;
            font-weight: 700;
            color: var(--primary);
            background: var(--primary-light);
            padding: 4px 10px;
            border-radius: 6px;
            flex-shrink: 0;
        }

        .project-num.dim { background: var(--gray-100); color: var(--gray-500); }

        .status-chip {
            font-size: 11px;
            padding: 4px 10px;
            border-radius: 99px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .status-chip.available { background: #d1fae5; color: #065f46; }
        .status-chip.coming { background: var(--gray-100); color: var(--gray-500); }

        .card-title {
            font-size: 17px;
            font-weight: 700;
            color: var(--gray-900);
            line-height: 1.4;
        }

        .card-description {
            font-size: 14px;
            color: var(--gray-500);
            line-height: 1.6;
            flex: 1;
        }

        .card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 4px;
        }

        .tag {
            font-size: 11px;
            padding: 3px 9px;
            border-radius: 6px;
            font-weight: 500;
            background: var(--gray-100);
            color: var(--gray-700);
        }

        .tag.highlight { background: var(--primary-light); color: var(--primary-dark); }

        .card-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .card-meta {
            display: flex;
            gap: 16px;
        }

        .meta-item {
            font-size: 12px;
            color: var(--gray-500);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .btn-start {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--primary);
            color: white;
            padding: 8px 18px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: background .15s;
            text-decoration: none;
        }

        .btn-start:hover { background: var(--primary-dark); }

        .btn-coming {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--gray-100);
            color: var(--gray-400);
            padding: 8px 18px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            border: none;
            cursor: not-allowed;
        }

        /* ‚îÄ‚îÄ Difficulty dots ‚îÄ‚îÄ */
        .difficulty {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--gray-200);
        }

        .dot.filled-easy { background: #22c55e; }
        .dot.filled-medium { background: #f59e0b; }
        .dot.filled-hard { background: #ef4444; }

        /* ‚îÄ‚îÄ Learning path callout ‚îÄ‚îÄ */
        .learning-path {
            background: rgba(255,255,255,.08);
            border: 1px solid rgba(255,255,255,.15);
            border-radius: var(--radius-lg);
            padding: 24px 28px;
            margin-bottom: 8px;
            color: white;
        }

        .learning-path h3 {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #a5b4fc;
        }

        .path-row {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
            font-size: 14px;
            color: rgba(255,255,255,.7);
        }

        .path-item {
            background: rgba(255,255,255,.12);
            padding: 4px 12px;
            border-radius: 6px;
            font-weight: 500;
        }

        .path-arrow { color: rgba(255,255,255,.4); }

        @media (max-width: 768px) {
            .header h1 { font-size: 28px; }
            .header-stats { gap: 20px; padding: 12px 20px; }
            .projects-grid { grid-template-columns: 1fr; }
            .back-btn { position: static; margin-bottom: 24px; display: inline-flex; }
        }
    </style>
</head>
<body>

<div class="header">
    <a class="back-btn" onclick="window.close()" href="#">‚Üê Back to Simulator</a>
    <span class="header-icon">üöÄ</span>
    <h1>Hands-On DevOps Projects</h1>
    <p>Production-grade projects you build from scratch. Real applications, real infrastructure, real DevOps skills.</p>
    <div class="header-stats">
        <div class="stat">
            <span class="stat-value">16</span>
            <span class="stat-label">Projects</span>
        </div>
        <div class="stat">
            <span class="stat-value">3</span>
            <span class="stat-label">Available</span>
        </div>
        <div class="stat">
            <span class="stat-value">50+</span>
            <span class="stat-label">DevOps Tasks</span>
        </div>
    </div>
</div>

<div class="content">

    <!-- Learning path -->
    <div class="learning-path">
        <h3>Recommended Learning Path</h3>
        <div class="path-row">
            <span class="path-item">01 E-Commerce (local)</span>
            <span class="path-arrow">‚Üí</span>
            <span class="path-item">01 E-Commerce (K8s)</span>
            <span class="path-arrow">‚Üí</span>
            <span class="path-item">02 Multi-Tenant SaaS</span>
            <span class="path-arrow">‚Üí</span>
            <span class="path-item">03 Real-Time Chat</span>
            <span class="path-arrow">‚Üí</span>
            <span class="path-item">04 Security</span>
            <span class="path-arrow">‚Üí</span>
            <span class="path-item">Advanced Projects</span>
        </div>
    </div>

    <!-- Available -->
    <div class="section-header">
        <span class="section-title">Available Now</span>
        <span class="section-badge badge-available">3 Projects</span>
    </div>

    <div class="projects-grid">

        <!-- Project 01 ‚Äî Available -->
        <div class="project-card available" onclick="openProject01()">
            <div class="card-banner available"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num">PROJECT 01</span>
                    <span class="status-chip available">‚úì Available</span>
                </div>
                <div class="card-title">Production-Ready Microservices E-Commerce Platform</div>
                <div class="card-description">
                    Build and deploy a complete online store with 5 microservices. Start with Docker Compose locally, then deploy to Kubernetes with Istio service mesh, distributed tracing, circuit breakers, and rate limiting.
                </div>
                <div class="card-tags">
                    <span class="tag highlight">Docker Compose</span>
                    <span class="tag highlight">Kubernetes</span>
                    <span class="tag highlight">Istio</span>
                    <span class="tag highlight">Jaeger</span>
                    <span class="tag">Circuit Breakers</span>
                    <span class="tag">Rate Limiting</span>
                    <span class="tag">mTLS</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item">
                        <div class="difficulty">
                            <div class="dot filled-hard"></div>
                            <div class="dot filled-hard"></div>
                            <div class="dot filled-hard"></div>
                        </div>
                        Hard
                    </span>
                    <span class="meta-item">‚è± 6‚Äì10 hours</span>
                    <span class="meta-item">üîß 5 services</span>
                </div>
                <button class="btn-start" onclick="openProject01()">Start Project ‚Üí</button>
            </div>
        </div>

        <!-- Project 02 ‚Äî Available -->
        <div class="project-card available" onclick="openProject02()" id="p02-card">
            <div class="card-banner available"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num">PROJECT 02</span>
                    <span class="status-chip available">‚úì Available</span>
                </div>
                <div class="card-title">Multi-Tenant SaaS Application Infrastructure</div>
                <div class="card-description">
                    Build a multi-tenant platform with namespace isolation per tenant, RBAC policies, resource quotas, network policies, tenant-specific databases, and usage metering. Includes a live admin dashboard.
                </div>
                <div class="card-tags">
                    <span class="tag highlight">Namespaces</span>
                    <span class="tag highlight">RBAC</span>
                    <span class="tag highlight">ResourceQuota</span>
                    <span class="tag highlight">NetworkPolicy</span>
                    <span class="tag">Multi-tenancy</span>
                    <span class="tag">Billing</span>
                    <span class="tag">Admin Dashboard</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item">
                        <div class="difficulty">
                            <div class="dot filled-medium"></div>
                            <div class="dot filled-medium"></div>
                            <div class="dot"></div>
                        </div>
                        Medium
                    </span>
                    <span class="meta-item">‚è± 5‚Äì8 hours</span>
                    <span class="meta-item">üîß 4 services</span>
                </div>
                <button class="btn-start" onclick="openProject02()">Start Project ‚Üí</button>
            </div>
        </div>

        <!-- Project 03 ‚Äî Available -->
        <div class="project-card available" onclick="openProject03()">
            <div class="card-banner available"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num">PROJECT 03</span>
                    <span class="status-chip available">‚úì Available</span>
                </div>
                <div class="card-title">Real-Time Chat / Messaging Platform</div>
                <div class="card-description">
                    Build a horizontally scalable WebSocket chat platform. Redis pub/sub keeps multiple replicas in sync. PostgreSQL persists messages. MinIO handles file uploads (S3-compatible). Presence detection and typing indicators included.
                </div>
                <div class="card-tags">
                    <span class="tag highlight">WebSockets</span>
                    <span class="tag highlight">Redis pub/sub</span>
                    <span class="tag highlight">MinIO / S3</span>
                    <span class="tag highlight">Horizontal Scaling</span>
                    <span class="tag">Presence Detection</span>
                    <span class="tag">File Uploads</span>
                    <span class="tag">nginx WebSocket Proxy</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item">
                        <div class="difficulty">
                            <div class="dot filled-medium"></div>
                            <div class="dot filled-medium"></div>
                            <div class="dot filled-medium"></div>
                        </div>
                        Medium-Hard
                    </span>
                    <span class="meta-item">‚è± 6‚Äì9 hours</span>
                    <span class="meta-item">üîß 4 services</span>
                </div>
                <button class="btn-start" onclick="openProject03()">Start Project ‚Üí</button>
            </div>
        </div>

    </div>

    <!-- Coming Soon -->
    <div class="section-header" style="margin-top: 40px;">
        <span class="section-title">Coming Soon</span>
        <span class="section-badge badge-coming">13 Projects</span>
    </div>

    <div class="projects-grid">

        <!-- Projects 04-16 -->

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 04</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Zero-Trust Security Platform</div>
                <div class="card-description">Harden a Kubernetes cluster with OPA Gatekeeper policies, network policies, Pod Security Standards, and Falco runtime security.</div>
                <div class="card-tags">
                    <span class="tag">OPA</span><span class="tag">Network Policies</span><span class="tag">Falco</span><span class="tag">RBAC</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot filled-hard"></div></div> Hard</span>
                    <span class="meta-item">‚è± 6‚Äì8 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 05</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">High-Availability Database Cluster</div>
                <div class="card-description">Deploy PostgreSQL with high availability using StatefulSets, persistent volumes, automatic failover, and Redis Cluster for caching.</div>
                <div class="card-tags">
                    <span class="tag">StatefulSets</span><span class="tag">PVC</span><span class="tag">PostgreSQL HA</span><span class="tag">Redis Cluster</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-medium"></div><div class="dot filled-medium"></div><div class="dot"></div></div> Medium</span>
                    <span class="meta-item">‚è± 5‚Äì7 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 06</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Multi-Region Active-Active Setup</div>
                <div class="card-description">Configure Kubernetes federation across multiple regions, global load balancing, and data replication for zero-downtime geo-distributed deployments.</div>
                <div class="card-tags">
                    <span class="tag">Federation</span><span class="tag">Global LB</span><span class="tag">Geo-Routing</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot filled-hard"></div></div> Hard</span>
                    <span class="meta-item">‚è± 8‚Äì12 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 07</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Autoscaling & Cost Optimization</div>
                <div class="card-description">Implement HPA, VPA, and KEDA event-driven autoscaling. Configure cluster autoscaler, spot instance handling, and resource right-sizing.</div>
                <div class="card-tags">
                    <span class="tag">HPA</span><span class="tag">VPA</span><span class="tag">KEDA</span><span class="tag">Spot Instances</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-medium"></div><div class="dot filled-medium"></div><div class="dot"></div></div> Medium</span>
                    <span class="meta-item">‚è± 4‚Äì6 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 08</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Disaster Recovery System</div>
                <div class="card-description">Implement backup and recovery using Velero, cross-region replication, chaos engineering tests, and documented RTO/RPO runbooks.</div>
                <div class="card-tags">
                    <span class="tag">Velero</span><span class="tag">Backup</span><span class="tag">Chaos Engineering</span><span class="tag">RTO/RPO</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot filled-hard"></div></div> Hard</span>
                    <span class="meta-item">‚è± 6‚Äì8 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 09</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Platform Engineering (IDP)</div>
                <div class="card-description">Build an Internal Developer Platform with Backstage, self-service templates, automated scaffolding, and golden paths for new services.</div>
                <div class="card-tags">
                    <span class="tag">Backstage</span><span class="tag">Templates</span><span class="tag">IDP</span><span class="tag">Self-Service</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot filled-hard"></div></div> Hard</span>
                    <span class="meta-item">‚è± 8‚Äì12 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 10</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">MLOps Pipeline</div>
                <div class="card-description">Deploy a machine learning pipeline on Kubernetes with Kubeflow, model versioning, A/B testing, and automated retraining triggers.</div>
                <div class="card-tags">
                    <span class="tag">Kubeflow</span><span class="tag">Model Serving</span><span class="tag">A/B Testing</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot filled-hard"></div></div> Hard</span>
                    <span class="meta-item">‚è± 8‚Äì10 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 11</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Serverless on Kubernetes</div>
                <div class="card-description">Build event-driven serverless functions with Knative, auto-scaling to zero, event brokers, and integration with Kafka and CloudEvents.</div>
                <div class="card-tags">
                    <span class="tag">Knative</span><span class="tag">Serverless</span><span class="tag">Kafka</span><span class="tag">CloudEvents</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot"></div></div> Hard</span>
                    <span class="meta-item">‚è± 6‚Äì8 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 12</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Zero-Downtime Deployment Strategies</div>
                <div class="card-description">Implement blue-green, canary, and rolling deployments with automated rollback. Use Argo Rollouts for progressive delivery with real traffic analysis.</div>
                <div class="card-tags">
                    <span class="tag">Argo Rollouts</span><span class="tag">Canary</span><span class="tag">Blue-Green</span><span class="tag">Progressive Delivery</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-medium"></div><div class="dot filled-medium"></div><div class="dot"></div></div> Medium</span>
                    <span class="meta-item">‚è± 4‚Äì6 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 13</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">API Gateway & Rate Limiting</div>
                <div class="card-description">Deploy Kong API Gateway, configure OAuth2/JWT authentication, request transformation, rate limiting, and API versioning strategies.</div>
                <div class="card-tags">
                    <span class="tag">Kong</span><span class="tag">OAuth2</span><span class="tag">JWT</span><span class="tag">Rate Limiting</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-medium"></div><div class="dot filled-medium"></div><div class="dot"></div></div> Medium</span>
                    <span class="meta-item">‚è± 4‚Äì6 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 14</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Edge Computing Setup</div>
                <div class="card-description">Deploy a K3s edge cluster, configure lightweight workloads for edge nodes, CDN integration, and edge-to-cloud data synchronization.</div>
                <div class="card-tags">
                    <span class="tag">K3s</span><span class="tag">Edge Nodes</span><span class="tag">CDN</span><span class="tag">IoT</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot"></div></div> Hard</span>
                    <span class="meta-item">‚è± 6‚Äì8 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 15</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">SRE Practices Platform</div>
                <div class="card-description">Define SLOs and error budgets, build alerting on burn rate, implement chaos engineering with Chaos Mesh, and create operational runbooks.</div>
                <div class="card-tags">
                    <span class="tag">SLOs</span><span class="tag">Error Budgets</span><span class="tag">Chaos Mesh</span><span class="tag">Runbooks</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot filled-hard"></div></div> Hard</span>
                    <span class="meta-item">‚è± 8‚Äì10 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

        <div class="project-card coming-soon">
            <div class="card-banner coming-soon"></div>
            <div class="card-body">
                <div class="card-header">
                    <span class="project-num dim">PROJECT 16</span>
                    <span class="status-chip coming">Coming Soon</span>
                </div>
                <div class="card-title">Security Compliance & Audit</div>
                <div class="card-description">Implement Falco runtime security, OPA Gatekeeper admission control, CIS benchmark scanning, and automated compliance reporting.</div>
                <div class="card-tags">
                    <span class="tag">Falco</span><span class="tag">OPA Gatekeeper</span><span class="tag">CIS Benchmarks</span><span class="tag">Compliance</span>
                </div>
            </div>
            <div class="card-footer">
                <div class="card-meta">
                    <span class="meta-item"><div class="difficulty"><div class="dot filled-hard"></div><div class="dot filled-hard"></div><div class="dot filled-hard"></div></div> Hard</span>
                    <span class="meta-item">‚è± 8‚Äì10 hours</span>
                </div>
                <button class="btn-coming" disabled>Coming Soon</button>
            </div>
        </div>

    </div>
</div>

<!-- ‚îÄ‚îÄ README data for popup rendering (plain text, not parsed as HTML) ‚îÄ‚îÄ -->
<script type="text/plain" id="data-project-readme">
# Project 01: Production-Ready Microservices E-Commerce Platform

Build and deploy a fully containerized e-commerce platform using microservices architecture. You'll go from raw application code all the way to a production Kubernetes deployment with Istio service mesh, distributed tracing, circuit breakers, and rate limiting.

---

## What You're Building

A working online store with 5 backend services and a UI:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    API Gateway (nginx)                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ-‚îÄ‚îò
       ‚îÇ      ‚îÇ      ‚îÇ           ‚îÇ           ‚îÇ
  Products  Cart  Orders  Payments  Inventory
  Service  Service Service  Service   Service
       ‚îÇ      ‚îÇ      ‚îÇ           ‚îÇ           ‚îÇ
  PostgreSQL Redis PostgreSQL PostgreSQL PostgreSQL
```

| Service | Responsibility |
|---------|---------------|
| **Product Service** | Product catalog ‚Äî browse, search, filter |
| **Cart Service** | Shopping cart ‚Äî add, remove, view items |
| **Order Service** | Order management ‚Äî create, track orders |
| **Payment Service** | Payment processing (mock gateway) |
| **Inventory Service** | Stock management ‚Äî track and reserve inventory |
| **Frontend** | Simple web UI to see everything in action |

---

## Folder Structure

```
project-01-ecommerce-platform/
‚îú‚îÄ‚îÄ README.md          ‚Üê You are here
‚îú‚îÄ‚îÄ app/               ‚Üê Application source code (pre-built)
‚îÇ   ‚îú‚îÄ‚îÄ README.md      ‚Üê How to run each service individually
‚îÇ   ‚îú‚îÄ‚îÄ product-service/
‚îÇ   ‚îú‚îÄ‚îÄ cart-service/
‚îÇ   ‚îú‚îÄ‚îÄ order-service/
‚îÇ   ‚îú‚îÄ‚îÄ payment-service/
‚îÇ   ‚îú‚îÄ‚îÄ inventory-service/
‚îÇ   ‚îî‚îÄ‚îÄ frontend/
‚îú‚îÄ‚îÄ local/             ‚Üê Docker Compose for local development
‚îÇ   ‚îú‚îÄ‚îÄ README.md      ‚Üê Step-by-step local setup guide
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ main/              ‚Üê Production Kubernetes deployment
‚îÇ   ‚îî‚îÄ‚îÄ README.md      ‚Üê What you'll build in the K8s phase
‚îî‚îÄ‚îÄ solution/          ‚Üê Ready-made K8s manifests (reference)
    ‚îú‚îÄ‚îÄ namespace.yaml
    ‚îú‚îÄ‚îÄ deployments/
    ‚îú‚îÄ‚îÄ services/
    ‚îú‚îÄ‚îÄ statefulsets/
    ‚îú‚îÄ‚îÄ ingress/
    ‚îî‚îÄ‚îÄ istio/
```

---

## Your DevOps Journey

### Phase 1 ‚Äî Understand the App (app/)
Read the app README and understand what each service does. You don't write application code, but you need to know what you're deploying.

**Skills:** Reading architecture docs, understanding microservices, API contracts

### Phase 2 ‚Äî Run It Locally (local/)
Use Docker Compose to get the entire stack running on your machine. Inspect how services discover each other, how the API gateway routes traffic, and how data flows between services.

**Skills:** Docker Compose, service networking, volume mounts, environment variables, health checks

### Phase 3 ‚Äî Deploy to Kubernetes (main/)
Write Kubernetes manifests for every service. Deploy to a real cluster. Add ConfigMaps, Secrets, Services, Ingress, PersistentVolumeClaims.

**Skills:** Deployments, Services, Ingress, ConfigMaps, Secrets, PVCs, namespaces

### Phase 4 ‚Äî Add Istio Service Mesh
Install Istio, enable sidecar injection, configure traffic management, canary deployments, and mutual TLS between services.

**Skills:** Istio, VirtualService, DestinationRule, mTLS, traffic shifting

### Phase 5 ‚Äî Circuit Breakers & Rate Limiting
Protect your services from cascade failures and abuse. Configure Istio circuit breakers, outlier detection, and rate limiting with Envoy filters.

**Skills:** Circuit breakers, outlier detection, rate limiting, Envoy filters

### Phase 6 ‚Äî Distributed Tracing
Deploy Jaeger, configure Istio tracing, and follow a request as it flows through all 5 services.

**Skills:** Jaeger, OpenTelemetry, trace sampling, span correlation

---

## What the Final Architecture Looks Like

```
Internet
    ‚îÇ
    ‚ñº
[Ingress / Istio Gateway]
    ‚îÇ
    ‚ñº
[Frontend - nginx]
    ‚îÇ  (calls /api/* routes)
    ‚ñº
[Istio Envoy Sidecar] ‚Üê Rate Limiting, mTLS, Tracing
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚Üí product-service  ‚îÄ‚îÄ‚Üí PostgreSQL
    ‚îú‚îÄ‚îÄ‚Üí cart-service     ‚îÄ‚îÄ‚Üí Redis
    ‚îú‚îÄ‚îÄ‚Üí order-service    ‚îÄ‚îÄ‚Üí PostgreSQL  ‚îÄ‚îÄ‚Üí (calls payment + inventory)
    ‚îú‚îÄ‚îÄ‚Üí payment-service  ‚îÄ‚îÄ‚Üí PostgreSQL
    ‚îî‚îÄ‚îÄ‚Üí inventory-service‚îÄ‚îÄ‚Üí PostgreSQL
         ‚îÇ
         ‚ñº
    [Jaeger] ‚Üê All traces collected here
    [Prometheus + Grafana] ‚Üê Metrics from Istio + services
```

---

## Prerequisites

- Docker and Docker Compose (for Phase 2)
- kubectl and a Kubernetes cluster (for Phase 3+)
- Helm (for Istio installation)
- Basic Python knowledge (to understand the services, not write them)

---

## Start Here

**‚Üí Go to app/README.md to understand the application**

Then follow: app/ ‚Üí local/ ‚Üí main/
</script>

<script type="text/plain" id="data-app-readme">
# App ‚Äî E-Commerce Microservices

This folder contains the source code for all 5 microservices and the frontend. Each service is a standalone FastAPI application that you can run individually or together via Docker Compose (see ../local/).

---

## Services Overview

| Service | Port | Language | Database | Description |
|---------|------|----------|----------|-------------|
| product-service | 8001 | Python/FastAPI | SQLite/PostgreSQL | Product catalog CRUD |
| cart-service | 8002 | Python/FastAPI | In-Memory/Redis | Shopping cart management |
| order-service | 8003 | Python/FastAPI | SQLite/PostgreSQL | Order creation and tracking |
| payment-service | 8004 | Python/FastAPI | SQLite/PostgreSQL | Mock payment gateway |
| inventory-service | 8005 | Python/FastAPI | SQLite/PostgreSQL | Stock level management |
| frontend | 80 | HTML/CSS/JS | ‚Äî | Browser UI served by nginx |

---

## Running a Single Service (without Docker)

Useful for development and understanding the code.

```bash
# Example: run the product service
cd product-service
pip install -r requirements.txt
uvicorn main:app --reload --port 8001
```

Then open: http://localhost:8001/docs ‚Äî every service has an automatic Swagger UI.

---

## Running All Services Together

Use the Docker Compose setup in ../local/. That's the intended way to run the full stack.

---

## Environment Variables

Each service is configured via environment variables (with sane defaults for local dev):

### product-service
| Variable | Default | Description |
|----------|---------|-------------|
| DATABASE_URL | sqlite:///./products.db | Database connection string |
| PORT | 8001 | Port to listen on |

### cart-service
| Variable | Default | Description |
|----------|---------|-------------|
| PRODUCT_SERVICE_URL | http://localhost:8001 | URL to call product service |
| PORT | 8002 | Port to listen on |

### order-service
| Variable | Default | Description |
|----------|---------|-------------|
| DATABASE_URL | sqlite:///./orders.db | Database connection string |
| CART_SERVICE_URL | http://localhost:8002 | URL to call cart service |
| PAYMENT_SERVICE_URL | http://localhost:8004 | URL to call payment service |
| INVENTORY_SERVICE_URL | http://localhost:8005 | URL to call inventory service |
| PORT | 8003 | Port to listen on |

### payment-service
| Variable | Default | Description |
|----------|---------|-------------|
| DATABASE_URL | sqlite:///./payments.db | Database connection string |
| PORT | 8004 | Port to listen on |

### inventory-service
| Variable | Default | Description |
|----------|---------|-------------|
| DATABASE_URL | sqlite:///./inventory.db | Database connection string |
| PORT | 8005 | Port to listen on |

---

## API Contracts

### product-service
```
GET    /products              ‚Üí List all products (supports ?category=&search=)
GET    /products/{id}         ‚Üí Get single product
POST   /products              ‚Üí Create product
PUT    /products/{id}         ‚Üí Update product
DELETE /products/{id}         ‚Üí Delete product
GET    /health                ‚Üí Health check
```

### cart-service
```
GET    /cart/{user_id}                      ‚Üí Get cart for user
POST   /cart/{user_id}/items                ‚Üí Add item to cart
DELETE /cart/{user_id}/items/{product_id}   ‚Üí Remove item from cart
DELETE /cart/{user_id}                      ‚Üí Clear cart
GET    /health                              ‚Üí Health check
```

### order-service
```
GET    /orders                ‚Üí List all orders
GET    /orders/{id}           ‚Üí Get single order
POST   /orders                ‚Üí Create order from cart
PATCH  /orders/{id}/status    ‚Üí Update order status
GET    /health                ‚Üí Health check
```

### payment-service
```
POST   /payments/process      ‚Üí Process a payment
GET    /payments/{id}         ‚Üí Get payment status
GET    /health                ‚Üí Health check
```

### inventory-service
```
GET    /inventory                       ‚Üí List all inventory
GET    /inventory/{product_id}          ‚Üí Get stock for product
PUT    /inventory/{product_id}          ‚Üí Update stock level
POST   /inventory/{product_id}/reserve  ‚Üí Reserve stock for order
GET    /health                          ‚Üí Health check
```

---

## Dockerfiles

Each service has a Dockerfile. Your first DevOps task is understanding them:

```dockerfile
# All services follow this pattern
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
EXPOSE <port>
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "<port>"]
```

**Questions to think about:**
- Why python:3.11-slim and not python:3.11?
- What does --no-cache-dir do and why does it matter in containers?
- Why --host 0.0.0.0 instead of the default 127.0.0.1?
- How would you reduce the image size further?
- What's missing for production? (hints: non-root user, health check, multi-stage build)
</script>

<script>
// ‚îÄ‚îÄ Copy helper ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function copyText(text, btn) {
    const doFeedback = () => {
        const orig = btn.innerHTML;
        btn.innerHTML = '‚úì Copied';
        btn.style.background = '#22c55e';
        btn.style.color = 'white';
        setTimeout(() => { btn.innerHTML = orig; btn.style.background = ''; btn.style.color = ''; }, 2000);
    };
    if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(text).then(doFeedback).catch(() => fallbackCopy(text, btn, doFeedback));
    } else {
        fallbackCopy(text, btn, doFeedback);
    }
}
function fallbackCopy(text, btn, cb) {
    const ta = document.createElement('textarea');
    ta.value = text;
    ta.style.cssText = 'position:fixed;opacity:0;top:0;left:0;';
    document.body.appendChild(ta);
    ta.focus(); ta.select();
    try { document.execCommand('copy'); } catch(e) {}
    document.body.removeChild(ta);
    cb();
}

// ‚îÄ‚îÄ Markdown renderer ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderMd(text) {
    const esc = s => s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    const inline = s => s
        .replace(/`([^`\n]+)`/g, '<code style="background:#e0e7ff;color:#4f46e5;padding:1px 5px;border-radius:4px;font-family:monospace;font-size:12px;">$1</code>')
        .replace(/\*\*([^*\n]+)\*\*/g, '<strong>$1</strong>')
        .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" style="color:#6366f1;text-decoration:underline;">$1</a>');

    const lines = text.split('\n');
    let html = '';
    let inCode = false, codeLang = '', codeLines = [];
    let inTable = false, tableRows = [], tableHeaderDone = false;

    const flushTable = () => {
        if (!tableRows.length) return;
        let t = '<table style="border-collapse:collapse;width:100%;font-size:12px;margin:8px 0;border:1px solid #e5e7eb;">';
        tableRows.forEach((row, i) => {
            t += '<tr>';
            row.forEach(cell => {
                const tag = i === 0 ? 'th' : 'td';
                const style = i === 0
                    ? 'padding:7px 12px;background:#f3f4f6;font-weight:700;border:1px solid #e5e7eb;text-align:left;'
                    : 'padding:6px 12px;border:1px solid #e5e7eb;';
                t += `<${tag} style="${style}">${inline(esc(cell.trim()))}</${tag}>`;
            });
            t += '</tr>';
        });
        t += '</table>';
        html += t;
        tableRows = [];
        inTable = false;
    };

    for (let i = 0; i < lines.length; i++) {
        const line = lines[i];

        // Code block toggle
        if (line.startsWith('```')) {
            if (!inCode) {
                inCode = true;
                codeLang = line.slice(3).trim();
                codeLines = [];
            } else {
                const code = esc(codeLines.join('\n'));
                html += `<pre style="background:#1a1a2e;color:#a5b4fc;padding:14px 16px;border-radius:8px;overflow-x:auto;font-size:12px;line-height:1.6;margin:8px 0;font-family:'Courier New',Courier,monospace;">${code}</pre>`;
                inCode = false; codeLines = [];
            }
            continue;
        }
        if (inCode) { codeLines.push(line); continue; }

        // Table
        if (line.startsWith('|')) {
            if (line.match(/^\|[\s:|-]+\|/)) { tableHeaderDone = true; continue; } // separator
            const cells = line.split('|').slice(1, -1);
            tableRows.push(cells);
            inTable = true;
            continue;
        }
        if (inTable) { flushTable(); }

        // Headers
        const m1 = line.match(/^### (.+)/);
        const m2 = line.match(/^## (.+)/);
        const m3 = line.match(/^# (.+)/);

        if (m3) {
            html += `<h1 style="font-size:19px;font-weight:800;color:#1e1b4b;margin:20px 0 8px;padding-bottom:8px;border-bottom:2px solid #e0e7ff;">${inline(esc(m3[1]))}</h1>`;
        } else if (m2) {
            html += `<h2 style="font-size:15px;font-weight:700;color:#4f46e5;margin:18px 0 6px;">${inline(esc(m2[1]))}</h2>`;
        } else if (m1) {
            html += `<h3 style="font-size:13px;font-weight:700;color:#374151;margin:14px 0 4px;">${inline(esc(m1[1]))}</h3>`;
        } else if (line.match(/^-{3,}$/)) {
            html += '<hr style="border:none;border-top:1px solid #e5e7eb;margin:14px 0;">';
        } else if (line.match(/^[-*] /)) {
            html += `<div style="padding:1px 0 1px 20px;position:relative;font-size:13px;line-height:1.6;"><span style="position:absolute;left:6px;color:#6366f1;">‚Ä¢</span>${inline(esc(line.replace(/^[-*] /, '')))}</div>`;
        } else if (line.match(/^\d+\. /)) {
            html += `<div style="padding:1px 0 1px 20px;font-size:13px;line-height:1.6;">${inline(esc(line))}</div>`;
        } else if (line.trim() === '') {
            html += '<div style="height:6px;"></div>';
        } else {
            html += `<p style="margin:2px 0;font-size:13px;line-height:1.65;">${inline(esc(line))}</p>`;
        }
    }
    if (inTable) flushTable();
    return html;
}

// ‚îÄ‚îÄ Project 01 entry ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openProject01() { showModal(); }

// ‚îÄ‚îÄ Project 02 entry ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openProject02() { showModal02(); }

// ‚îÄ‚îÄ Project 03 entry ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openProject03() { showModal03(); }

function showModal03() {
    const PATH      = 'hands-on-projects/project-03-realtime-chat/';
    const DOCKER_CMD = 'docker compose up --build';
    const QUICK_CMD  = 'cd hands-on-projects/project-03-realtime-chat/local\ndocker compose up --build\n# Open http://localhost:8092\n# MinIO Console: http://localhost:9001 (minioadmin/minioadmin)';

    const overlay = document.createElement('div');
    overlay.id = 'p03-modal-overlay';
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:1000;display:flex;align-items:center;justify-content:center;padding:24px;';

    overlay.innerHTML = `
        <div style="background:white;border-radius:16px;max-width:580px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 25px 50px rgba(0,0,0,.25);">

            <!-- Header -->
            <div style="padding:22px 28px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background:white;z-index:1;border-radius:16px 16px 0 0;">
                <h2 style="font-size:19px;font-weight:700;">üí¨ Project 03 ‚Äî Real-Time Chat Platform</h2>
                <button onclick="document.getElementById('p03-modal-overlay').remove()" style="background:none;border:none;font-size:24px;cursor:pointer;color:#6b7280;line-height:1;padding:0 4px;">&times;</button>
            </div>

            <div style="padding:24px 28px;display:flex;flex-direction:column;gap:20px;">

                <!-- Path -->
                <div style="background:#eef2ff;border-radius:10px;padding:16px;">
                    <div style="font-weight:700;margin-bottom:10px;color:#4f46e5;font-size:13px;">üìÅ Project Location</div>
                    <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;">
                        <code style="font-size:12px;color:#374151;background:#e0e7ff;padding:8px 12px;border-radius:6px;font-family:'Courier New',Courier,monospace;flex:1;min-width:200px;word-break:break-all;">${PATH}</code>
                        <button onclick="copyText('${PATH}', this)" style="font-size:12px;padding:7px 14px;border-radius:6px;border:1px solid #c7d2fe;background:white;color:#4f46e5;cursor:pointer;font-weight:600;white-space:nowrap;transition:all .15s;flex-shrink:0;">üìã Copy</button>
                    </div>
                </div>

                <!-- Steps -->
                <div>
                    <div style="font-weight:700;margin-bottom:12px;font-size:14px;">Where to start:</div>
                    <div style="display:flex;flex-direction:column;gap:10px;">

                        <div onclick="showWideReadme03('project')"
                             style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer;transition:all .15s;"
                             onmouseover="this.style.borderColor='#6366f1';this.style.background='#f5f3ff';"
                             onmouseout="this.style.borderColor='#e5e7eb';this.style.background='#f9fafb';">
                            <span style="font-size:24px;flex-shrink:0;">üìñ</span>
                            <div style="flex:1;">
                                <div style="font-weight:600;font-size:14px;">1. Read the Project README</div>
                                <div style="color:#6b7280;font-size:12px;margin-top:2px;">Architecture overview, WebSocket pub/sub, MinIO design</div>
                            </div>
                            <span style="display:inline-flex;align-items:center;gap:3px;background:#6366f1;color:white;font-size:11px;font-weight:700;padding:5px 10px;border-radius:6px;flex-shrink:0;letter-spacing:.3px;">Open ‚Üó</span>
                        </div>

                        <div onclick="showWideReadme03('app')"
                             style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer;transition:all .15s;"
                             onmouseover="this.style.borderColor='#6366f1';this.style.background='#f5f3ff';"
                             onmouseout="this.style.borderColor='#e5e7eb';this.style.background='#f9fafb';">
                            <span style="font-size:24px;flex-shrink:0;">üîç</span>
                            <div style="flex:1;">
                                <div style="font-weight:600;font-size:14px;">2. Explore the app/ folder</div>
                                <div style="color:#6b7280;font-size:12px;margin-top:2px;">4 services: chat (WebSocket), presence (Redis), notifications, file upload</div>
                            </div>
                            <span style="display:inline-flex;align-items:center;gap:3px;background:#6366f1;color:white;font-size:11px;font-weight:700;padding:5px 10px;border-radius:6px;flex-shrink:0;letter-spacing:.3px;">Open ‚Üó</span>
                        </div>

                        <div style="padding:14px 16px;background:#eef2ff;border-radius:10px;border:2px solid #6366f1;display:flex;flex-direction:column;gap:10px;">
                            <div style="display:flex;align-items:center;gap:12px;">
                                <span style="font-size:24px;flex-shrink:0;">üê≥</span>
                                <div>
                                    <div style="font-weight:600;font-size:14px;color:#4f46e5;">3. Build & run locally (local/ folder)</div>
                                    <div style="color:#6b7280;font-size:12px;margin-top:2px;">Full stack: chat at :8092, MinIO console at :9001</div>
                                </div>
                            </div>
                            <div style="background:white;border-radius:8px;padding:10px 14px;border:1px solid #c7d2fe;display:flex;align-items:center;justify-content:space-between;gap:10px;">
                                <code style="font-size:12px;color:#374151;font-family:'Courier New',Courier,monospace;flex:1;">${DOCKER_CMD}</code>
                                <button onclick="copyText('${DOCKER_CMD}', this)" style="font-size:12px;padding:5px 11px;border-radius:6px;border:1px solid #c7d2fe;background:#eef2ff;color:#4f46e5;cursor:pointer;font-weight:600;white-space:nowrap;flex-shrink:0;transition:all .15s;">üìã Copy</button>
                            </div>
                        </div>

                        <div style="padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;display:flex;flex-direction:column;gap:10px;">
                            <div style="display:flex;align-items:center;gap:12px;">
                                <span style="font-size:24px;flex-shrink:0;">‚ò∏Ô∏è</span>
                                <div>
                                    <div style="font-weight:600;font-size:14px;">4. Deploy to Kubernetes (main/ folder)</div>
                                    <div style="color:#6b7280;font-size:12px;margin-top:2px;">WebSocket Ingress config, Redis StatefulSet, MinIO, HPA for horizontal scaling</div>
                                </div>
                            </div>
                            <div style="background:#fefce8;border:1px solid #fde047;border-radius:8px;padding:10px 14px;font-size:12px;color:#713f12;display:flex;align-items:flex-start;gap:8px;">
                                <span style="font-size:15px;flex-shrink:0;">üí°</span>
                                <div><strong>Key challenge:</strong> WebSocket Ingress requires special annotations for <code style="background:#fef3c7;padding:1px 5px;border-radius:3px;font-family:monospace;">proxy-read-timeout</code> and the <code style="background:#fef3c7;padding:1px 5px;border-radius:3px;font-family:monospace;">Upgrade</code> header. The main/README.md walks you through it.</div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Quick start -->
                <div style="background:#f0fdf4;border-radius:10px;padding:16px;border:1px solid #bbf7d0;">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                        <div style="font-weight:700;font-size:13px;color:#065f46;">‚ö° Quick Start ‚Äî Run Locally</div>
                        <button onclick="copyText('${QUICK_CMD.replace(/\n/g, '\\n')}', this)" style="font-size:12px;padding:5px 12px;border-radius:6px;border:1px solid #6ee7b7;background:white;color:#059669;cursor:pointer;font-weight:600;transition:all .15s;">üìã Copy all</button>
                    </div>
                    <pre style="font-size:12px;color:#374151;font-family:'Courier New',Courier,monospace;line-height:1.9;margin:0;white-space:pre-wrap;">cd hands-on-projects/project-03-realtime-chat/local
docker compose up --build
# Chat UI:      http://localhost:8092
# MinIO Console: http://localhost:9001 (minioadmin/minioadmin)</pre>
                </div>

            </div>
        </div>
    `;

    document.body.appendChild(overlay);
    overlay.addEventListener('click', e => { if (e.target === overlay) overlay.remove(); });
}

function showWideReadme03(which) {
    const existing = document.getElementById('wide-readme-overlay');
    if (existing) existing.remove();

    const isProject = which === 'project';
    const title   = isProject ? 'üìñ Project README ‚Äî Real-Time Chat Platform' : 'üîç app/ README ‚Äî Services & APIs';
    const rawText = document.getElementById(isProject ? 'data-p03-project-readme' : 'data-p03-app-readme').textContent.trim();

    const overlay = document.createElement('div');
    overlay.id = 'wide-readme-overlay';
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.72);z-index:1200;display:flex;align-items:center;justify-content:center;padding:24px;';

    overlay.innerHTML = `
        <div style="background:white;border-radius:16px;max-width:920px;width:100%;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 25px 60px rgba(0,0,0,.35);">
            <div style="padding:18px 28px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;flex-shrink:0;border-radius:16px 16px 0 0;background:white;">
                <h2 style="font-size:17px;font-weight:700;color:#1e1b4b;">${title}</h2>
                <button onclick="document.getElementById('wide-readme-overlay').remove()" style="background:none;border:none;font-size:26px;cursor:pointer;color:#6b7280;line-height:1;padding:0 4px;">&times;</button>
            </div>
            <div style="padding:28px 32px;overflow-y:auto;flex:1;" id="wide-readme-body"></div>
        </div>
    `;

    document.body.appendChild(overlay);
    document.getElementById('wide-readme-body').innerHTML = renderMd(rawText);
    overlay.addEventListener('click', e => { if (e.target === overlay) overlay.remove(); });
}

function showModal02() {
    const PATH = 'hands-on-projects/project-02-multitenant-saas/';
    const DOCKER_CMD = 'docker compose up --build';
    const QUICK_CMD  = 'cd hands-on-projects/project-02-multitenant-saas/local\ndocker compose up --build\n# Open http://localhost:8090';

    const overlay = document.createElement('div');
    overlay.id = 'p02-modal-overlay';
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:1000;display:flex;align-items:center;justify-content:center;padding:24px;';

    overlay.innerHTML = `
        <div style="background:white;border-radius:16px;max-width:580px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 25px 50px rgba(0,0,0,.25);">

            <!-- Header -->
            <div style="padding:22px 28px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background:white;z-index:1;border-radius:16px 16px 0 0;">
                <h2 style="font-size:19px;font-weight:700;">üè¢ Project 02 ‚Äî Multi-Tenant SaaS</h2>
                <button onclick="document.getElementById('p02-modal-overlay').remove()" style="background:none;border:none;font-size:24px;cursor:pointer;color:#6b7280;line-height:1;padding:0 4px;">&times;</button>
            </div>

            <div style="padding:24px 28px;display:flex;flex-direction:column;gap:20px;">

                <!-- 1. Path + copy button -->
                <div style="background:#eef2ff;border-radius:10px;padding:16px;">
                    <div style="font-weight:700;margin-bottom:10px;color:#4f46e5;font-size:13px;">üìÅ Project Location</div>
                    <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;">
                        <code style="font-size:12px;color:#374151;background:#e0e7ff;padding:8px 12px;border-radius:6px;font-family:'Courier New',Courier,monospace;flex:1;min-width:200px;word-break:break-all;">${PATH}</code>
                        <button onclick="copyText('${PATH}', this)" style="font-size:12px;padding:7px 14px;border-radius:6px;border:1px solid #c7d2fe;background:white;color:#4f46e5;cursor:pointer;font-weight:600;white-space:nowrap;transition:all .15s;flex-shrink:0;">üìã Copy</button>
                    </div>
                </div>

                <!-- 2. Steps -->
                <div>
                    <div style="font-weight:700;margin-bottom:12px;font-size:14px;">Where to start:</div>
                    <div style="display:flex;flex-direction:column;gap:10px;">

                        <div onclick="showWideReadme02('project')"
                             style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer;transition:all .15s;"
                             onmouseover="this.style.borderColor='#6366f1';this.style.background='#f5f3ff';"
                             onmouseout="this.style.borderColor='#e5e7eb';this.style.background='#f9fafb';">
                            <span style="font-size:24px;flex-shrink:0;">üìñ</span>
                            <div style="flex:1;">
                                <div style="font-weight:600;font-size:14px;">1. Read the Project README</div>
                                <div style="color:#6b7280;font-size:12px;margin-top:2px;">Architecture overview and your DevOps journey</div>
                            </div>
                            <span style="display:inline-flex;align-items:center;gap:3px;background:#6366f1;color:white;font-size:11px;font-weight:700;padding:5px 10px;border-radius:6px;flex-shrink:0;letter-spacing:.3px;">Open ‚Üó</span>
                        </div>

                        <div onclick="showWideReadme02('app')"
                             style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer;transition:all .15s;"
                             onmouseover="this.style.borderColor='#6366f1';this.style.background='#f5f3ff';"
                             onmouseout="this.style.borderColor='#e5e7eb';this.style.background='#f9fafb';">
                            <span style="font-size:24px;flex-shrink:0;">üîç</span>
                            <div style="flex:1;">
                                <div style="font-weight:600;font-size:14px;">2. Explore the app/ folder</div>
                                <div style="color:#6b7280;font-size:12px;margin-top:2px;">Understand the 4 services and the multi-tenancy concept</div>
                            </div>
                            <span style="display:inline-flex;align-items:center;gap:3px;background:#6366f1;color:white;font-size:11px;font-weight:700;padding:5px 10px;border-radius:6px;flex-shrink:0;letter-spacing:.3px;">Open ‚Üó</span>
                        </div>

                        <div style="padding:14px 16px;background:#eef2ff;border-radius:10px;border:2px solid #6366f1;display:flex;flex-direction:column;gap:10px;">
                            <div style="display:flex;align-items:center;gap:12px;">
                                <span style="font-size:24px;flex-shrink:0;">üê≥</span>
                                <div>
                                    <div style="font-weight:600;font-size:14px;color:#4f46e5;">3. Build & run locally (local/ folder)</div>
                                    <div style="color:#6b7280;font-size:12px;margin-top:2px;">Get all services running with Docker Compose. Admin dashboard at :8090</div>
                                </div>
                            </div>
                            <div style="background:white;border-radius:8px;padding:10px 14px;border:1px solid #c7d2fe;display:flex;align-items:center;justify-content:space-between;gap:10px;">
                                <code style="font-size:12px;color:#374151;font-family:'Courier New',Courier,monospace;flex:1;">${DOCKER_CMD}</code>
                                <button onclick="copyText('${DOCKER_CMD}', this)" style="font-size:12px;padding:5px 11px;border-radius:6px;border:1px solid #c7d2fe;background:#eef2ff;color:#4f46e5;cursor:pointer;font-weight:600;white-space:nowrap;flex-shrink:0;transition:all .15s;">üìã Copy</button>
                            </div>
                        </div>

                        <div style="padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;display:flex;flex-direction:column;gap:10px;">
                            <div style="display:flex;align-items:center;gap:12px;">
                                <span style="font-size:24px;flex-shrink:0;">‚ò∏Ô∏è</span>
                                <div>
                                    <div style="font-weight:600;font-size:14px;">4. Deploy to Kubernetes (main/ folder)</div>
                                    <div style="color:#6b7280;font-size:12px;margin-top:2px;">Namespaces, RBAC, ResourceQuota, NetworkPolicy, per-tenant databases</div>
                                </div>
                            </div>
                            <div style="background:#fefce8;border:1px solid #fde047;border-radius:8px;padding:10px 14px;font-size:12px;color:#713f12;display:flex;align-items:flex-start;gap:8px;">
                                <span style="font-size:15px;flex-shrink:0;">üí°</span>
                                <div><strong>Hint:</strong> Ready-made K8s solution files are in the <code style="background:#fef3c7;padding:1px 5px;border-radius:3px;font-family:monospace;">solution/</code> folder ‚Äî namespace, RBAC, quotas, NetworkPolicy, per-tenant StatefulSet, and app-service configs are all there.</div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Quick start -->
                <div style="background:#f0fdf4;border-radius:10px;padding:16px;border:1px solid #bbf7d0;">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                        <div style="font-weight:700;font-size:13px;color:#065f46;">‚ö° Quick Start ‚Äî Run Locally</div>
                        <button onclick="copyText('${QUICK_CMD.replace(/\n/g, '\\n')}', this)" style="font-size:12px;padding:5px 12px;border-radius:6px;border:1px solid #6ee7b7;background:white;color:#059669;cursor:pointer;font-weight:600;transition:all .15s;">üìã Copy all</button>
                    </div>
                    <pre style="font-size:12px;color:#374151;font-family:'Courier New',Courier,monospace;line-height:1.9;margin:0;white-space:pre-wrap;">cd hands-on-projects/project-02-multitenant-saas/local
docker compose up --build
# Open http://localhost:8090</pre>
                </div>

            </div>
        </div>
    `;

    document.body.appendChild(overlay);
    overlay.addEventListener('click', e => { if (e.target === overlay) overlay.remove(); });
}

function showWideReadme02(which) {
    const existing = document.getElementById('wide-readme-overlay');
    if (existing) existing.remove();

    const isProject = which === 'project';
    const title   = isProject ? 'üìñ Project README ‚Äî Multi-Tenant SaaS' : 'üîç app/ README ‚Äî Services & APIs';
    const rawText = document.getElementById(isProject ? 'data-p02-project-readme' : 'data-p02-app-readme').textContent.trim();

    const overlay = document.createElement('div');
    overlay.id = 'wide-readme-overlay';
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.72);z-index:1200;display:flex;align-items:center;justify-content:center;padding:24px;';

    overlay.innerHTML = `
        <div style="background:white;border-radius:16px;max-width:920px;width:100%;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 25px 60px rgba(0,0,0,.35);">
            <div style="padding:18px 28px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;flex-shrink:0;border-radius:16px 16px 0 0;background:white;">
                <h2 style="font-size:17px;font-weight:700;color:#1e1b4b;">${title}</h2>
                <button onclick="document.getElementById('wide-readme-overlay').remove()" style="background:none;border:none;font-size:26px;cursor:pointer;color:#6b7280;line-height:1;padding:0 4px;">&times;</button>
            </div>
            <div style="padding:28px 32px;overflow-y:auto;flex:1;" id="wide-readme-body"></div>
        </div>
    `;

    document.body.appendChild(overlay);
    document.getElementById('wide-readme-body').innerHTML = renderMd(rawText);
    overlay.addEventListener('click', e => { if (e.target === overlay) overlay.remove(); });
}

// ‚îÄ‚îÄ Main modal ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showModal() {
    const PATH = 'hands-on-projects/project-01-ecommerce-platform/';
    const DOCKER_CMD = 'docker compose up --build';
    const QUICK_CMD  = 'cd hands-on-projects/project-01-ecommerce-platform/local\ndocker compose up --build';

    const overlay = document.createElement('div');
    overlay.id = 'p01-modal-overlay';
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:1000;display:flex;align-items:center;justify-content:center;padding:24px;';

    overlay.innerHTML = `
        <div style="background:white;border-radius:16px;max-width:580px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 25px 50px rgba(0,0,0,.25);">

            <!-- Header -->
            <div style="padding:22px 28px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background:white;z-index:1;border-radius:16px 16px 0 0;">
                <h2 style="font-size:19px;font-weight:700;">üöÄ Project 01 ‚Äî E-Commerce Platform</h2>
                <button onclick="document.getElementById('p01-modal-overlay').remove()" style="background:none;border:none;font-size:24px;cursor:pointer;color:#6b7280;line-height:1;padding:0 4px;">&times;</button>
            </div>

            <div style="padding:24px 28px;display:flex;flex-direction:column;gap:20px;">

                <!-- 1. Path + copy button -->
                <div style="background:#eef2ff;border-radius:10px;padding:16px;">
                    <div style="font-weight:700;margin-bottom:10px;color:#4f46e5;font-size:13px;">üìÅ Project Location</div>
                    <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;">
                        <code style="font-size:12px;color:#374151;background:#e0e7ff;padding:8px 12px;border-radius:6px;font-family:'Courier New',Courier,monospace;flex:1;min-width:200px;word-break:break-all;">${PATH}</code>
                        <button onclick="copyText('${PATH}', this)" style="font-size:12px;padding:7px 14px;border-radius:6px;border:1px solid #c7d2fe;background:white;color:#4f46e5;cursor:pointer;font-weight:600;white-space:nowrap;transition:all .15s;flex-shrink:0;">üìã Copy</button>
                    </div>
                </div>

                <!-- 2. Steps -->
                <div>
                    <div style="font-weight:700;margin-bottom:12px;font-size:14px;">Where to start:</div>
                    <div style="display:flex;flex-direction:column;gap:10px;">

                        <!-- Step 1 ‚Äî clickable opens README popup -->
                        <div onclick="showWideReadme('project')"
                             style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer;transition:all .15s;"
                             onmouseover="this.style.borderColor='#6366f1';this.style.background='#f5f3ff';"
                             onmouseout="this.style.borderColor='#e5e7eb';this.style.background='#f9fafb';">
                            <span style="font-size:24px;flex-shrink:0;">üìñ</span>
                            <div style="flex:1;">
                                <div style="font-weight:600;font-size:14px;">1. Read the Project README</div>
                                <div style="color:#6b7280;font-size:12px;margin-top:2px;">Understand the architecture and your DevOps journey</div>
                            </div>
                            <span style="display:inline-flex;align-items:center;gap:3px;background:#6366f1;color:white;font-size:11px;font-weight:700;padding:5px 10px;border-radius:6px;flex-shrink:0;letter-spacing:.3px;">Open ‚Üó</span>
                        </div>

                        <!-- Step 2 ‚Äî clickable opens app/README popup -->
                        <div onclick="showWideReadme('app')"
                             style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;cursor:pointer;transition:all .15s;"
                             onmouseover="this.style.borderColor='#6366f1';this.style.background='#f5f3ff';"
                             onmouseout="this.style.borderColor='#e5e7eb';this.style.background='#f9fafb';">
                            <span style="font-size:24px;flex-shrink:0;">üîç</span>
                            <div style="flex:1;">
                                <div style="font-weight:600;font-size:14px;">2. Explore the app/ folder</div>
                                <div style="color:#6b7280;font-size:12px;margin-top:2px;">Read the service code and understand the APIs</div>
                            </div>
                            <span style="display:inline-flex;align-items:center;gap:3px;background:#6366f1;color:white;font-size:11px;font-weight:700;padding:5px 10px;border-radius:6px;flex-shrink:0;letter-spacing:.3px;">Open ‚Üó</span>
                        </div>

                        <!-- Step 3 ‚Äî run locally with copy button -->
                        <div style="padding:14px 16px;background:#eef2ff;border-radius:10px;border:2px solid #6366f1;display:flex;flex-direction:column;gap:10px;">
                            <div style="display:flex;align-items:center;gap:12px;">
                                <span style="font-size:24px;flex-shrink:0;">üê≥</span>
                                <div>
                                    <div style="font-weight:600;font-size:14px;color:#4f46e5;">3. Build & run locally (local/ folder)</div>
                                    <div style="color:#6b7280;font-size:12px;margin-top:2px;">Your first task: get the full stack running with Docker Compose</div>
                                </div>
                            </div>
                            <div style="background:white;border-radius:8px;padding:10px 14px;border:1px solid #c7d2fe;display:flex;align-items:center;justify-content:space-between;gap:10px;">
                                <code style="font-size:12px;color:#374151;font-family:'Courier New',Courier,monospace;flex:1;">${DOCKER_CMD}</code>
                                <button onclick="copyText('${DOCKER_CMD}', this)" style="font-size:12px;padding:5px 11px;border-radius:6px;border:1px solid #c7d2fe;background:#eef2ff;color:#4f46e5;cursor:pointer;font-weight:600;white-space:nowrap;flex-shrink:0;transition:all .15s;">üìã Copy</button>
                            </div>
                        </div>

                        <!-- Step 4 ‚Äî K8s with solution hint -->
                        <div style="padding:14px 16px;background:#f9fafb;border-radius:10px;border:1px solid #e5e7eb;display:flex;flex-direction:column;gap:10px;">
                            <div style="display:flex;align-items:center;gap:12px;">
                                <span style="font-size:24px;flex-shrink:0;">‚ò∏Ô∏è</span>
                                <div>
                                    <div style="font-weight:600;font-size:14px;">4. Deploy to Kubernetes (main/ folder)</div>
                                    <div style="color:#6b7280;font-size:12px;margin-top:2px;">Write K8s manifests, add Istio, observability, security</div>
                                </div>
                            </div>
                            <div style="background:#fefce8;border:1px solid #fde047;border-radius:8px;padding:10px 14px;font-size:12px;color:#713f12;display:flex;align-items:flex-start;gap:8px;">
                                <span style="font-size:15px;flex-shrink:0;">üí°</span>
                                <div><strong>Hint:</strong> Ready-made K8s solution files are available in the <code style="background:#fef3c7;padding:1px 5px;border-radius:3px;font-family:monospace;">solution/</code> folder if you need a reference ‚Äî namespace, deployments, services, StatefulSets, Ingress, and Istio configs are all there.</div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- 3. Quick Start with copy -->
                <div style="background:#f0fdf4;border-radius:10px;padding:16px;border:1px solid #bbf7d0;">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                        <div style="font-weight:700;font-size:13px;color:#065f46;">‚ö° Quick Start ‚Äî Run Locally</div>
                        <button onclick="copyText('${QUICK_CMD.replace(/\n/g, '\\n')}', this)" style="font-size:12px;padding:5px 12px;border-radius:6px;border:1px solid #6ee7b7;background:white;color:#059669;cursor:pointer;font-weight:600;transition:all .15s;">üìã Copy all</button>
                    </div>
                    <pre style="font-size:12px;color:#374151;font-family:'Courier New',Courier,monospace;line-height:1.9;margin:0;white-space:pre-wrap;">cd hands-on-projects/project-01-ecommerce-platform/local
docker compose up --build
# Open http://localhost:8088</pre>
                </div>

            </div>
        </div>
    `;

    document.body.appendChild(overlay);
    overlay.addEventListener('click', e => { if (e.target === overlay) overlay.remove(); });
}

// ‚îÄ‚îÄ Wide README popup ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showWideReadme(which) {
    const existing = document.getElementById('wide-readme-overlay');
    if (existing) existing.remove();

    const isProject = which === 'project';
    const title   = isProject ? 'üìñ Project README ‚Äî E-Commerce Platform' : 'üîç app/ README ‚Äî Microservices & APIs';
    const rawText = document.getElementById(isProject ? 'data-project-readme' : 'data-app-readme').textContent.trim();

    const overlay = document.createElement('div');
    overlay.id = 'wide-readme-overlay';
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.72);z-index:1200;display:flex;align-items:center;justify-content:center;padding:24px;';

    overlay.innerHTML = `
        <div style="background:white;border-radius:16px;max-width:920px;width:100%;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 25px 60px rgba(0,0,0,.35);">
            <!-- header -->
            <div style="padding:18px 28px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center;flex-shrink:0;border-radius:16px 16px 0 0;background:white;">
                <h2 style="font-size:17px;font-weight:700;color:#1e1b4b;">${title}</h2>
                <button onclick="document.getElementById('wide-readme-overlay').remove()" style="background:none;border:none;font-size:26px;cursor:pointer;color:#6b7280;line-height:1;padding:0 4px;">&times;</button>
            </div>
            <!-- body -->
            <div style="padding:28px 32px;overflow-y:auto;flex:1;" id="wide-readme-body"></div>
        </div>
    `;

    document.body.appendChild(overlay);
    document.getElementById('wide-readme-body').innerHTML = renderMd(rawText);
    overlay.addEventListener('click', e => { if (e.target === overlay) overlay.remove(); });
}
</script>

<!-- ‚îÄ‚îÄ README data for Project 02 ‚îÄ‚îÄ -->
<script type="text/plain" id="data-p02-project-readme">
# Project 02: Multi-Tenant SaaS Application Infrastructure

Build and operate a complete multi-tenant SaaS platform. You'll go from a single shared stack on Docker Compose all the way to a production Kubernetes setup with namespace isolation, RBAC, resource quotas, network policies, and tenant-specific databases.

---

## What You're Building

A SaaS platform where companies ("tenants") each get their own isolated environment:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Admin Dashboard (nginx + HTML)                  ‚îÇ
‚îÇ            Shows all tenants, their usage, and task counts         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ                     ‚îÇ
        /api/platform/*        /api/billing/*       /api/app/*
               ‚îÇ                     ‚îÇ                    ‚îÇ
        platform-api          billing-service        app-service
       (tenant CRUD)           (metering)           (task manager)
               ‚îÇ                     ‚îÇ                    ‚îÇ
       postgres-platform      postgres-billing       postgres-app
```

| Service | What it does |
|---------|-------------|
| **platform-api** | Create, suspend, and delete tenants. Stores plan limits (CPU, memory, pods) |
| **app-service** | The actual SaaS product ‚Äî a task manager. Each tenant sees only their own tasks |
| **billing-service** | Records every API call per tenant. Shows usage and estimated cost |
| **admin-ui** | Admin dashboard showing all tenants, resource limits, task counts, and usage |

---

## Folder Structure

```
project-02-multitenant-saas/
‚îú‚îÄ‚îÄ README.md           ‚Üê You are here
‚îú‚îÄ‚îÄ app/                ‚Üê Application source code (pre-built)
‚îÇ   ‚îú‚îÄ‚îÄ README.md       ‚Üê Service overview, API contracts, env vars
‚îÇ   ‚îú‚îÄ‚îÄ platform-api/   ‚Üê Tenant management API (FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ app-service/    ‚Üê Multi-tenant task manager (FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ billing-service/‚Üê Usage metering API (FastAPI)
‚îÇ   ‚îî‚îÄ‚îÄ admin-ui/       ‚Üê Admin dashboard (HTML/CSS/JS + nginx)
‚îú‚îÄ‚îÄ local/              ‚Üê Docker Compose ‚Äî run everything locally
‚îÇ   ‚îú‚îÄ‚îÄ README.md       ‚Üê Step-by-step local guide + DevOps tasks
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ   ‚îî‚îÄ‚îÄ nginx/nginx.conf
‚îî‚îÄ‚îÄ main/               ‚Üê Production Kubernetes deployment
    ‚îî‚îÄ‚îÄ README.md       ‚Üê Namespaces, RBAC, quotas, network policies
```

---

## The Core Learning: Two Types of Multi-Tenancy

### Application-Level (local/)
One shared service, one shared database. Tenant isolation via `X-Tenant-ID` header and `tenant_id` DB column.

### Infrastructure-Level (main/)
Each tenant is a Kubernetes namespace with their own pods, database, resource limits, and network isolation.

---

## Start Here

**‚Üí Go to app/README.md to understand the platform**

Then follow: `app/` ‚Üí `local/` ‚Üí `main/`
</script>

<script type="text/plain" id="data-p02-app-readme">
# App ‚Äî Multi-Tenant SaaS Services

This folder contains the source code for all services. Everything is pre-built ‚Äî your job is to containerize, run, and deploy it.

---

## Services Overview

| Service | Port | Language | Database | Role |
|---------|------|----------|----------|------|
| **platform-api** | 8010 | Python/FastAPI | PostgreSQL | Tenant management |
| **app-service** | 8011 | Python/FastAPI | PostgreSQL | Task manager (multi-tenant) |
| **billing-service** | 8012 | Python/FastAPI | PostgreSQL | Usage metering |
| **admin-ui** | 80 | HTML/CSS/JS + nginx | ‚Äî | Admin dashboard |

---

## The Core Concept: Two Modes of Tenant Isolation

### Mode 1 ‚Äî Local (Docker Compose)
One shared `app-service` for all tenants. Isolation via the `X-Tenant-ID` header:

```
POST /tasks   X-Tenant-ID: alice-corp      ‚Üí Alice's tasks
POST /tasks   X-Tenant-ID: bob-industries  ‚Üí Bob's tasks
```

Both stored in one DB, separated by `tenant_id` column.

### Mode 2 ‚Äî Kubernetes (main/)
Each tenant gets their own namespace + dedicated database. No header needed ‚Äî the namespace IS the isolation:

```
namespace: tenant-alice-corp    ‚Üí app-service ‚Üí postgres (alice's data)
namespace: tenant-bob-industries‚Üí app-service ‚Üí postgres (bob's data)
```

---

## API Contracts

### platform-api
```
GET    /tenants              ‚Üí List all tenants
POST   /tenants              ‚Üí Create tenant
PATCH  /tenants/{id}/suspend ‚Üí Suspend tenant
PATCH  /tenants/{id}/activate‚Üí Activate tenant
DELETE /tenants/{id}         ‚Üí Delete tenant
GET    /plans                ‚Üí List plans with resource limits
GET    /health               ‚Üí Health check
```

### app-service (requires X-Tenant-ID header)
```
GET    /tasks        ‚Üí List tasks for this tenant
POST   /tasks        ‚Üí Create a task
PUT    /tasks/{id}   ‚Üí Update a task (status, priority, title)
DELETE /tasks/{id}   ‚Üí Delete a task
GET    /stats        ‚Üí Task counts by status
GET    /health       ‚Üí Health check
```

### billing-service
```
POST   /record             ‚Üí Record one API call
GET    /usage              ‚Üí Usage for all tenants (today + total)
GET    /usage/{tenant_id}  ‚Üí Detailed usage breakdown
GET    /health             ‚Üí Health check
```

---

## Seed Data

All services auto-seed on first run:
- **3 tenants**: Alice Corp (enterprise/active), Bob Industries (pro/active), Charlie Ltd (starter/suspended)
- **10 tasks** spread across all tenants
- **300 API call events** over the past 7 days, weighted toward Alice Corp

---

## Running a Single Service

```bash
cd platform-api
pip install -r requirements.txt
uvicorn main:app --reload --port 8010
# ‚Üí http://localhost:8010/docs (Swagger UI)
```

---

## Dockerfiles

All services follow the same pattern:

```dockerfile
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
EXPOSE <port>
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "<port>"]
```

**DevOps questions to think about:**
- What's missing for production? (non-root user, health check directive, multi-stage build)
- How would you reduce the image size further?
- Why --host 0.0.0.0 instead of the default 127.0.0.1?
</script>

<!-- ‚îÄ‚îÄ README data for Project 03 ‚îÄ‚îÄ -->
<script type="text/plain" id="data-p03-project-readme">
# Project 03: Real-Time Chat / Messaging Platform

Build and deploy a production-grade real-time chat platform using WebSockets, Redis pub/sub, and S3-compatible file storage. You'll go from understanding the architecture all the way to a horizontally scalable Kubernetes deployment.

---

## What You're Building

A working chat application that actually scales ‚Äî because you'll build the infrastructure right:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    API Gateway (nginx)                        ‚îÇ
‚îÇ         WebSocket + REST routing + file upload proxy          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ           ‚îÇ              ‚îÇ               ‚îÇ
  /ws/*    /api/chat/*  /api/presence/*   /api/files/*
     ‚îÇ           ‚îÇ              ‚îÇ               ‚îÇ
 chat-service  chat-service  presence-service  file-service
  (WebSocket)   (REST)         (Redis TTL)      (MinIO)
     ‚îÇ                ‚îÇ                         ‚îÇ
  Redis          PostgreSQL                  MinIO
  pub/sub        (messages)               (S3-compatible)
```

| Service | What it does |
|---------|-------------|
| **chat-service** | WebSocket engine. Handles connections, broadcasts via Redis pub/sub, persists to PostgreSQL |
| **presence-service** | Who's online + typing indicators. Pure Redis ‚Äî TTL-based, handles disconnects automatically |
| **notification-service** | Tracks mentions and system notifications. PostgreSQL-backed |
| **file-service** | Upload images and files. Stores in MinIO (S3-compatible). Proxies downloads |
| **frontend** | Single-page chat UI. WebSocket client + REST calls. Rooms, typing indicators, file uploads |

---

## Folder Structure

```
project-03-realtime-chat/
‚îú‚îÄ‚îÄ README.md          ‚Üê You are here
‚îú‚îÄ‚îÄ app/               ‚Üê Application source code (pre-built)
‚îÇ   ‚îú‚îÄ‚îÄ README.md      ‚Üê Services, APIs, env vars, design decisions
‚îÇ   ‚îú‚îÄ‚îÄ chat-service/
‚îÇ   ‚îú‚îÄ‚îÄ presence-service/
‚îÇ   ‚îú‚îÄ‚îÄ notification-service/
‚îÇ   ‚îú‚îÄ‚îÄ file-service/
‚îÇ   ‚îî‚îÄ‚îÄ frontend/
‚îú‚îÄ‚îÄ local/             ‚Üê Docker Compose for local development
‚îÇ   ‚îú‚îÄ‚îÄ README.md      ‚Üê Step-by-step local guide + DevOps tasks
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ   ‚îî‚îÄ‚îÄ nginx/nginx.conf
‚îî‚îÄ‚îÄ main/              ‚Üê Production Kubernetes deployment
    ‚îî‚îÄ‚îÄ README.md      ‚Üê What you'll build in the K8s phase
```

---

## Your DevOps Journey

### Phase 1 ‚Äî Understand the App (app/)

Read app/README.md. Understand:
- How WebSocket pub/sub works across multiple replicas
- Why Redis TTL is better than connection-event presence tracking
- How MinIO maps to AWS S3 in production

**Skills:** WebSocket architecture, Redis pub/sub, object storage, service communication

### Phase 2 ‚Äî Run It Locally (local/)

Get the full stack running with Docker Compose. Explore:
- WebSocket traffic in browser DevTools
- Redis pub/sub with `redis-cli SUBSCRIBE`
- File storage in the MinIO Console (http://localhost:9001)
- Horizontal scaling with `docker compose --scale chat-service=2`

**Skills:** Docker Compose, nginx WebSocket proxying, Redis CLI, MinIO

### Phase 3 ‚Äî Deploy to Kubernetes (main/)

Write K8s manifests for all services. The interesting challenges:
- WebSocket-aware Ingress configuration (timeouts, Upgrade headers)
- Redis as a StatefulSet (or use Redis Cluster for HA)
- MinIO as a StatefulSet with persistent storage
- HPA for chat-service (scale on connections/CPU)

**Skills:** Deployments, StatefulSets, Services, Ingress (WebSocket), Secrets, HPA, PVCs

### Phase 4 ‚Äî Add Horizontal Scaling

Deploy 3 replicas of chat-service. Verify that messages from one replica reach users on another ‚Äî thanks to Redis pub/sub. This is real horizontal scaling without sticky sessions.

**Skills:** HPA, ReplicaSets, Redis pub/sub validation, load testing

---

## Start Here

**‚Üí Go to app/README.md to understand the platform**

Then follow: app/ ‚Üí local/ ‚Üí main/
</script>

<script type="text/plain" id="data-p03-app-readme">
# App ‚Äî Real-Time Chat Services

This folder contains the source code for all 4 microservices and the frontend. Each service is a standalone Python FastAPI application. You don't write application code ‚Äî your job is to containerize, run, and eventually deploy it.

---

## Services Overview

| Service | Port | Language | Datastore | Description |
|---------|------|----------|-----------|-------------|
| **chat-service** | 8020 | Python/FastAPI | PostgreSQL + Redis | WebSocket chat engine with message persistence and pub/sub |
| **presence-service** | 8021 | Python/FastAPI | Redis | Online status and typing indicators via Redis TTL keys |
| **notification-service** | 8022 | Python/FastAPI | PostgreSQL | Push notification tracking for mentions and messages |
| **file-service** | 8023 | Python/FastAPI | PostgreSQL + MinIO | File upload and storage (S3-compatible) |
| **frontend** | 80 | HTML/CSS/JS + nginx | ‚Äî | Single-page chat UI with WebSocket client |

---

## Key Design Decisions

### Why Redis pub/sub for chat?

When you run multiple chat-service replicas, each has its own in-memory WebSocket connections. Without Redis:
- User A on Replica 1 sends a message ‚Üí Replica 2 never knows ‚Üí users on Replica 2 miss it

With Redis pub/sub:
- Replica 1 receives via WebSocket ‚Üí publishes to Redis channel `room:general`
- ALL replicas subscribe ‚Üí each delivers to its local WebSocket clients
- Every user sees the message regardless of which replica they're on

This enables true horizontal scaling without sticky sessions.

### Why Redis TTL for presence?

Instead of tracking "user connected / disconnected" events (which miss crashes), presence uses heartbeat + TTL:
- Frontend sends POST /presence/{user_id}/heartbeat every 15 seconds
- Redis stores the key with 30-second TTL
- Browser crash, network drop ‚Üí no more heartbeats ‚Üí key expires ‚Üí user goes offline automatically

More reliable than event-based presence tracking.

### Why MinIO for file storage?

MinIO is S3-compatible. The file-service code uses the MinIO Python client, but the same code works with AWS S3 by changing the endpoint and credentials. Swap for production:
```
MINIO_ENDPOINT=s3.amazonaws.com
MINIO_ACCESS_KEY=your-aws-key
MINIO_SECRET_KEY=your-aws-secret
```

---

## API Contracts

### chat-service WebSocket
```
ws://host/ws/{room_id}/{user_id}?username=alice
```

Client sends: {"type": "message", "content": "Hello!"}
Client sends: {"type": "typing"}
Client sends: {"type": "stop_typing"}

Server sends: {"type": "message", "id", "room_id", "user_id", "username", "content", "timestamp"}
Server sends: {"type": "typing", "user_id", "username", "room_id"}
Server sends: {"type": "user_joined", "user_id", "username", "room_id"}

### chat-service REST
```
GET    /rooms                          ‚Üí List all rooms
POST   /rooms                          ‚Üí Create room {id, name, description}
GET    /rooms/{room_id}/messages       ‚Üí Get message history (?limit=50)
GET    /health                         ‚Üí Health check
```

### presence-service
```
POST   /presence/{user_id}/heartbeat   ‚Üí Stay online (?username=alice)
GET    /presence                       ‚Üí List all online users
DELETE /presence/{user_id}             ‚Üí Go offline
POST   /presence/{user_id}/typing      ‚Üí Start typing (?room_id=general)
GET    /presence/rooms/{room_id}/typing ‚Üí Who is typing
GET    /health                         ‚Üí Health check
```

### notification-service
```
POST   /notifications                  ‚Üí Create notification
GET    /notifications/{user_id}        ‚Üí Get notifications
GET    /notifications/{user_id}/unread-count ‚Üí Count unread
PATCH  /notifications/{id}/read        ‚Üí Mark as read
PATCH  /notifications/{user_id}/read-all ‚Üí Mark all read
GET    /health                         ‚Üí Health check
```

### file-service
```
POST   /upload                         ‚Üí Upload file (multipart/form-data)
GET    /files                          ‚Üí List files (?room_id=general)
GET    /{file_id}                      ‚Üí Get file metadata
GET    /{file_id}/download             ‚Üí Download file (proxied from MinIO)
GET    /health                         ‚Üí Health check (includes MinIO status)
```

---

## Running a Single Service

```bash
cd chat-service
pip install -r requirements.txt
uvicorn main:app --reload --port 8020
# Open http://localhost:8020/docs for Swagger UI
```

The chat-service uses SQLite and falls back to single-node mode (no Redis pub/sub) if Redis is unavailable ‚Äî safe for local dev without Docker.
</script>

</body>
</html>
